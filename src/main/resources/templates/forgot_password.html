<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  th:replace="~{base::layout(~{::section})}">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Reset Password | Your E-Commerce</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body>
<section>
	<div class="password-reset-container">
		<div class="password-reset-card animate__animated animate__fadeIn">
			<div class="password-reset-illustration">
				<img src="img/ecom.png" alt="Password Reset Illustration" class="floating">
				<h2>Forgot Your Password?</h2>
				<p>No worries! Enter your email and we'll send you a link to reset your password.</p>
			</div>
			<div class="password-reset-form">
				<div class="password-reset-header">
					<h1>Reset Password</h1>
					<p>Enter your email to receive a password reset link</p>

					<th:block th:if="${session.succMsg}">
						<div class="alert-message alert-success animate__animated animate__fadeIn">
							[[${session.succMsg}]]
							<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
						</div>
					</th:block>

					<th:block th:if="${session.errorMsg}">
						<div class="alert-message alert-error animate__animated animate__fadeIn">
							[[${session.errorMsg}]]
							<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
						</div>
					</th:block>
				</div>

				<form action="/forgot-password" method="post">
					<div class="form-group">
						<label for="email" class="form-label">Email Address</label>
						<input required id="email" class="form-control" name="email" type="email" placeholder="Enter your registered email">
					</div>

					<button type="submit" class="btn-reset">
						<i class="fas fa-paper-plane"></i> Send Reset Link
					</button>
				</form>

				<div class="password-reset-footer">
					<a href="/login" class="back-to-login">
						<i class="fas fa-arrow-left"></i> Back to Login
					</a>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Font Awesome for icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<script>
	// Add focus effects
    document.querySelectorAll('.form-control').forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.querySelector('.form-label').style.color = 'var(--primary-color)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.querySelector('.form-label').style.color = 'var(--dark-color)';
        });
    });
</script>
</body>
</html>